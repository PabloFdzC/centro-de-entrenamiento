<% const meses = Array(
  "Enero",
  "Febrero",
  "Marzo",
  "Abril",
  "Mayo",
  "Junio",
  "Julio",
  "Agosto",
  "Setiembre",
  "Octubre",
  "Noviembre",
  "Diciembre",
  );
  const dias = Array(
    "Domingo",
    "Lunes",
    "Martes",
    "MiÃ©rcoles",
    "Jueves",
    "Viernes",
    "Sabado"
    ); %>
<% if(lista.length == 0) { %>
  <div class="card mx-auto background cardLista mt-2">
    <div class="card-body" id="cardB">
      <div class="row">
        <div class="col-12">
          <h2 class="card-title tituloElementoLista text-center">Nada para mostrar</h2>
        </div>
      </div>
    </div>
  </div>
<% } %>
<% let i=0; for(let sala of lista){ %>
  <div class="card mx-auto background cardLista mt-2">
    <div class="card-body" id="cardB">
      <div class="d-flex justify-content-between">
        <div class="">
          <h2 class="card-title tituloElementoLista2">Sala</h2>
        </div>
        <div class="">
          <button type="button" class="btn btn-primary activaModal" data-bs-toggle="modal" data-bs-target="#modalSala" value="<%= i %>">Editar</button>
        </div>
      </div>
      <div class="row ps-3 pe-3">
        <div class="col-6">
          <div class="d-flex justify-content-start">
            <h3 class="tituloDatos ">Capacidad:</h3>
            <div class="ms-2"><%= sala.getCapacidad() %></div>
          </div>
          <div class="d-flex justify-content-start">
            <h3 class="tituloDatos ">Aforo:</h3>
            <div class="ms-2"><%= sala.getAforo() %>%</div>
          </div>
          <div class="d-flex justify-content-start">
            <h3 class="tituloDatos ">Costo matricula:</h3>
            <div class="ms-2"><%= sala.getCostoMatricula() %></div>
          </div>
        </div>
        <div class="col-6">
          <div class="row">
            <h3 class="tituloDatos ">Servicios:</h3>
          </div>
          <div class="row ps-3 pe-3">
            <%i++; for(let s of sala.getServicios()){ %>
              <div class="servicio ps-3 pe-3 pt-2 pb-2 text-center m-1" title="<%= s.getNombre() %>"><%= s.getNombre() %></div>
            <% } %>
          </div>
        </div>
      </div>
      <div class="d-flex justify-content-between">
        <div class="">
          <h2 class="card-title tituloElementoLista2">Calendario del mes</h2>
        </div>
      </div>
      <div class="row ps-3 pe-3">
        <div class="col-12">
          <div class="row justify-content-center">
            <% let cpd = sala.calendarioPorDias();
            for(let dia in cpd){ %>
              <h3 class="tituloDatos "><%= dias[dia]%>:</h3>
              <div class="row">
                <%for(let e of cpd[dia]){ 
                  let d;let m = e.getDia().getMonth()+1;
                  if(e.getDia().getDate() < 10){
                    d = "0"+e.getDia().getDate();
                  } else {
                    d = e.getDia().getDate();
                  }
                  if(e.getDia().getMonth() < 10){
                    m = "0"+m;
                  }
                  %>
                  <div class="diasCalendarioSala ps-3 pe-3 pt-2 pb-2 text-center m-1"><%=d%>/<%=m%>/<%=e.getDia().getFullYear()%> <%= e.getHorarioAtencion().getHoraMinutosInicio() %>-<%= e.getHorarioAtencion().getHoraMinutosFinal() %></div>
                <% } %>
              </div>
              
            <% } %>
          </div>
        </div>
      </div>
    </div>
  </div>
<% } %>